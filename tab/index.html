<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../css/fontawesome-free-5.7.2-web/css/all.css">
    <link rel="stylesheet" href="../css/jquery.mobile-1.4.5.min.css">
    <link rel="stylesheet" href="../css/jquery.mobile.ui.css">
    <link rel="stylesheet" href="../css/jqm-ui-demos.css">
    <script type="text/javascript" src="../js/jquery.js"></script>
    <script type="text/javascript" src="../js/jquery.mobile-1.4.5.js"></script>
    <script type="text/javascript" src="../js/bscroll.js"></script>
  </head>
  <body>

    <div data-role="page" data-theme="a">
      <div data-role="header" class="navbar" data-position="fixed" data-tap-toggle="false">
          <div class="nav">
              <a data-role="none" data-ajax="false" href="../menus.html" class="nav-link"><i class="fas fa-chevron-left"></i> 首页</a>
              <h3 class="nav-title">Tab</h3>
          </div>
          <ul class="tab-list">
            <li class="tab-item"><a data-role="none" href="javascript:;">推荐</a></li>
            <li class="tab-item"><a data-role="none" href="javascript:;">LOOK直播</a></li>
            <li class="tab-item active"><a data-role="none" href="javascript:;">解忧电话亭</a></li>
            <li class="tab-item"><a data-role="none" href="javascript:;">兄弟</a></li>
          </ul>
      </div>
      <div role="main" class="ui-content">
          
        <div id="pages">
          <div id="page1"></div>
          <div id="page2"></div>
          <div id="page3"></div>
        </div>
        
      </div>
      <div data-role="footer" data-position="fixed" data-tap-toggle="false">
        <nav class="tab-bar">
          <a data-role="none" class="bar-item">
            <span class="icon"><i class="icon fal fa-home-lg-alt"></i></span>
            <span class="text">首页</span>
          </a>
          <a data-role="none" class="bar-item active new">
            <span class="icon"><i class="icon fas fa-comment"></i></span>
            <span class="text">消息</span>
          </a>
          <a data-role="none" class="bar-item new">
            <span class="icon"><i class="icon fal fa-calendar-check"></i></span>
            <span class="text">待办</span>
          </a>
          <a data-role="none" class="bar-item">
            <span class="icon">
              <i class="icon fal fa-user"></i>
            </span>
            <span class="text">我</span>
          </a>
        </nav>
      </div>
    </div>

    <script type="text/javascript">
      $(function(){

        $('.tab-bar .bar-item').on('click', function(){
          $(this).addClass('active')
            .find('i').removeClass('fal').addClass('fas')
            .end()
            .siblings('.bar-item').removeClass('active')
            .find('i').removeClass('fas').addClass('fal')
        });
        
        $('#pages>div').each(function(){
          //var $p = $(this);
          //$p.load('pages/'+ $p.attr('id') +'.html');
        });

        $('#pages').wrap($('<div class="slide">').css('width', '100%'))
          .addClass('slide-group')
          .find('>div').addClass('slide-item');

        $('.slide').each(function(){
          var $slide = $(this),
              width = $slide.width(),
              $group = $slide.find('.slide-group'),
              $items = $group.find('.slide-item');
          $group.css('width', width * $items.length);
          $items.css('width', width);

          var bScroll = new BScroll(this, {
              scrollX: true,
              scrollY: false,
              eventPassthrough: 'vertical',
              bounce: false,
              snap: {
                loop: false,
                showDot: true,
                autoPlay: false,
                
                speed: 600,
                threshold: 5,
                stepX: width,
              }
          });

          $('.prev').on('click', function(){
            bScroll.prev();
          });
          $('.next').on('click', function(){
            bScroll.next();
          });

        });
      });


     
      $('.tab-list .tab-item').on('click', function(){
        $(this).addClass('active').siblings('.tab-item').removeClass('active');
      });
    </script>

  </body>
</html>